(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(21)},16:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(3),i=n.n(o),c=(n(16),n(1)),s=n.n(c),u=n(4),l=n(5),v=n(6),m=n(8),p=n(7),f=n(9);n(19),n(20);function d(e){var t=e.poster,n=e.alt;return a.a.createElement("img",{alt:n,src:t,title:n,className:"Movie__Poster"})}function h(e){var t=e.genre;return a.a.createElement("span",{className:"Movie__Genre"},t)}var g=function(e){var t=e.title,n=e.poster,r=e.genres,o=e.overview;return a.a.createElement("div",{className:"Movie"},a.a.createElement("div",{className:"Movie__Column"},a.a.createElement("h1",null,t),a.a.createElement("div",{className:"Movie__Genres"},r.map(function(e,t){return a.a.createElement(h,{genre:e,key:t})})),a.a.createElement("div",{className:"Movie__Overview"},o)),a.a.createElement("div",{className:"Movie__Column"},a.a.createElement(d,{poster:n})))},_="39c569be9c413ae8a3f9b9132f02cf18",w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={},n._renderMovies=function(){var e=n.state.genresNames;return n.state.movies.map(function(t){return a.a.createElement(g,{title:t.title,poster:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),key:t.id,genres:t.genre_ids.map(function(t){return n=t,e.filter(function(e){return e.id===n})[0].name;var n}),overview:t.overview})})},n._getMovies=Object(u.a)(s.a.mark(function e(){var t,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._callGenresApi();case 2:return t=e.sent,e.next=5,n._callApi();case 5:r=e.sent,n.setState({movies:r,genresNames:t});case 7:case"end":return e.stop()}},e)})),n._callGenresApi=function(){return fetch("https://api.themoviedb.org/3/genre/movie/list?language=ko&api_key=".concat(_)).then(function(e){return e.json()}).then(function(e){return e.genres}).catch(function(e){return console.log(e)})},n._callApi=function(){return fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=".concat(_,"&page=1")).then(function(e){return e.json()}).then(function(e){return e.results}).catch(function(e){return console.log(e)})},n}return Object(f.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this._getMovies()}},{key:"render",value:function(){var e=this.state.movies;return a.a.createElement("div",{className:e?"App":"App-loading"},e?this._renderMovies():"Loading")}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.d60e9bcc.chunk.js.map